<!DOCTYPE html><html><head><title>ç« ç¯€æŒ‘æˆ° - ç°¡å–®ç‰ˆ</title><meta name="viewport" content="width=device-width, initial-scale=1"><link href="images/favicon.ico" rel="shortcut icon"><meta charset="UTF-8"><script src="/javascripts/vendor.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.2.37/vue.global.js"></script></head><body class="bg-lighter">
<div class="container main my-5"><div class="row"><main class="col post">
<!-- ç« ç¯€æ¨™é¡Œ --><div class="mb-4"><h1 class="mt-0 text-muted">ç« ç¯€æŒ‘æˆ° - ç°¡å–®ç‰ˆ</h1><small>æª”åï¼š<code>directive-final-easy.html</code></small></div>
<!-- ğŸ”¥ğŸ”¥ç·´ç¿’é–‹å§‹ğŸ”¥ğŸ”¥ -->

<div id="app">
  <div class="container gx-2">
    <div class="row gx-3 bg-light py-3">
      <div class="col-md-4">
        <div class="list-group">
          <!-- é€é v-for å°‡ç”¢å“é™£åˆ—è³‡æ–™å‘ˆç¾å‡ºä¾† -->
          <!-- åŠ å…¥é»æ“Šäº‹ä»¶æ–¹æ³• @click è§¸ç™¼ selectedProductï¼ŒåŠ ä¸Š .prevent é¿å…åŸç”Ÿ html äº‹ä»¶ -->
          <!-- å¸¶å…¥ä¹‹ item ç­‰åŒæ–¼ product -->
          <!-- :class å¸¶å…¥æ¨£å¼ï¼Œä¸¦åŠ å…¥åˆ¤æ–·å¼ï¼Œæ¯”å°åç¨± name
            è‹¥å·²é¸æ“‡ä¹‹å“é …ï¼Œèˆ‡ç•¶å‰ for è¿´åœˆå…§ä¹‹å“é …ç›¸åŒæ™‚ï¼Œå°±æœƒåŠ ä¸Š active çš„æ¨£å¼ -->
          <!-- åŠ ä¸Š key å€¼ï¼Œå”¯ä¸€å€¼å°±å¯ä½œç‚º key ä½¿ç”¨ -->
          <a href="#" class="list-group-item list-group-item-action" 
          v-for="item in products" 
          @click.prevent="selectedProduct(item)"
          :key="item.name"
          :class="{ 'active': itemSelected.name === item.name }">
            <!-- ä½¿ç”¨ {{}} å¸¶å…¥è³‡æ–™å…§å®¹ -->
            <h6 class="card-title mb-1">{{ item.name }}</h6>
            <div class="d-flex align-items-center justify-content-between">
              <p class="mb-0"><small>{{ item.engName }}</small></p>
              <p class="mb-0"><small>NT$ {{ item.price }}</small></p>
            </div>
          </a>

          <!-- æ­¤ç‚ºè¢«é¸æ“‡ä¹‹é …ç›®ç¯„ä¾‹ï¼ŒæœƒåŠ ä¸Š active -->
          <!-- <a href="#" class="list-group-item list-group-item-action active">
            <h6 class="card-title mb-1">é®®å¥¶èŒ¶</h6>
            <div class="d-flex align-items-center justify-content-between">
              <p class="mb-0"><small>Milk Tea</small></p>
              <p class="mb-0"><small>NT$ 40</small></p>
            </div>
          </a> -->
        </div>
      </div>
      <div class="col-md-8">
        <div class="card mb-2">
          <!-- æœªé¸æ“‡ä¹‹ overlay -->
          <!-- åŠ å…¥ v-if åˆ¤æ–·å¼ï¼šæœªé¸æ“‡å“é …æ™‚é¡¯ç¤º overlay -->
          <div v-if="!itemSelected.name" class="position-absolute text-white d-flex align-items-center justify-content-center active" style="top: 0;bottom: 0;left: 0;right: 0;background-color: rgba(0, 0, 0, 0.65); z-index: 100;">è«‹å…ˆé¸æ“‡é£²å“</div>
          <div class="card-body px-4">
            <div class="mb-3">
              <label for="productNum" class="form-label">æ•¸é‡</label>
              <!-- ç¶å®šè³‡æ–™å…§å®¹ -->
              <input type="number" class="form-control" id="productNum" v-model="itemSelected.count" placeholder="æ•¸é‡" min="0">
            </div>
            <div class="mb-3">
              <label for="productNum" class="form-label d-block">å†°å¡Š*</label>
              <div class="form-check form-check-inline"
              v-for="(ice, key) in iceType"
              :key="'ice' + key">
                <input class="form-check-input" name="iceType" type="radio" :id="'ice' + key" :value="ice" v-model="itemSelected.ice">
                <label class="form-check-label" :for="'ice' + key">{{ ice }}</label>
              </div>
            </div>
            <div class="mb-3">
              <label for="productNum" class="form-label d-block">ç”œåº¦*</label>
              <div class="form-check form-check-inline" 
              v-for="(sugar, key) in sugarType"
              :key="'sugar' + key">
                <input class="form-check-input" name="sugarType" type="radio" :id="'sugar' + key"
                :value="sugar" v-model="itemSelected.sugar">
                <label class="form-check-label" :for="'sugar' + key">{{ sugar }}</label>
              </div>
            </div>
            <div class="mb-3">
              <label for="productNum" class="form-label d-block">åŠ æ–™</label>
              <!-- v-for å¸¶å‡ºè³‡æ–™ toppingsType -->
              <!-- 'å­—ä¸²' + key ç”¢ç”Ÿå”¯ä¸€å€¼ -->
              <div class="form-check form-check-inline" 
              v-for="(topping, key) in toppingsType"
              :key="'topping' + key">
              <!-- ä½œç‚ºå¯é¸æ“‡é …ç›® -->
              <!-- label èˆ‡ id åç¨±ã€Œç›¸åŒã€å³å¯ç¶å®šç‚ºåŒä¸€é¸é …ï¼Œé»æ“Šæ–‡å­—æ™‚å¯åŒæ™‚é¸æ“‡ checkbox -->
              <!-- :value å°æ‡‰ toppingï¼Œå–å‡ºå€¼æ”¾å…¥é™£åˆ—ä¸­ -->
              <!-- ç¶å®š v-model  -->
                <input class="form-check-input" type="checkbox" 
                :value="topping"
                v-model="itemSelected.toppings"
                :id="'topping' + key">
                <!-- æ›´æ”¹åç¨± -->
                <label class="form-check-label" :for="'topping' + key">{{ topping }}</label>
              </div>
            </div>
            <div class="mb-3">
              <label for="productNotice" class="form-label">å‚™è¨»</label>
              <textarea class="form-control" id="productNotice" rows="2" v-model="itemSelected.notice"></textarea>
            </div>
            <div class="d-flex gap-2">
              <!-- ç¶å®šæ¸…ç©º -->
              <button @click="resetOrder" class="btn btn-outline-primary w-100" type="button">å–æ¶ˆ</button>
              <!-- ç¶å®šé»æ“ŠåŠ å…¥ -->
              <button @click="addToOrder(itemSelected)" class="btn btn-primary w-100" type="button">åŠ å…¥</button>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-body">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">å“é …</th>
                  <th scope="col">å†°å¡Š</th>
                  <th scope="col">ç”œåº¦</th>
                  <th scope="col">åŠ æ–™</th>
                  <th scope="col">å–®åƒ¹</th>
                  <th scope="col">æ•¸é‡</th>
                  <th scope="col">å°è¨ˆ</th>
                </tr>
              </thead>
              <tbody>
                <!-- å°‡åŠ å…¥ä¹‹å“é …å‘ˆç¾åœ¨åˆ—è¡¨ -->
                <!-- è‹¥ç„¡åˆé©ä¹‹å”¯ä¸€å€¼ä½œç‚º key ä½¿ç”¨ï¼Œå¯ç›´æ¥ä½¿ç”¨ 'å­—ä¸²' + key ç•¶å”¯ä¸€å€¼ä½¿ç”¨  -->
                <tr v-for="(item, key) in orderList" :key="'order' + key">
                  <!-- å¸¶å…¥åç¨± -->
                  <th scope="row">{{ item.name }}<br>
                    <!-- å‚™è¨» -->
                    <small class="text-muted fw-normal">å‚™è¨»ï¼š{{ item.notice }}</small>
                  </th>
                  <!-- å†°å¡Š -->
                  <td>{{ item.ice }}</td>
                  <!-- ç”œåº¦ -->
                  <td>{{ item.sugar }}</td>
                  <!-- åŠ æ–™ -->
                  <td>{{ item.toppings.toString() }}</td>
                  <!-- å–®åƒ¹ï¼ˆå«åŠ æ–™åƒ¹æ ¼ï¼‰ -->
                  <td>{{ item.price + item.toppings.length * 10 }}</td>
                  <!-- æ•¸é‡ -->
                  <td>{{ item.count }}</td>
                  <!-- å–®ä¸€è¨‚å–®åƒ¹æ ¼ï¼ˆå°è¨ˆï¼‰ -->
                  <td class="text-end">{{ item.total }}</td>
                </tr>
              </tbody>
            </table>
            <p class="text-end">å…± NT$ {{ orderTotal }} å…ƒ</p>
            <button class="btn btn-sm btn-secondary w-100">é‡æ–°é¸æ“‡</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
const App = {
  data() {
    return {
      // å‡å®šæš«å­˜çš„é¸æ“‡é …ç›®
      itemSelected: {

      },
      // å®šç¾©è³¼ç‰©è»Šé™£åˆ—
      orderList: [],
      // å®šç¾©è¨‚å–®ç¸½åƒ¹
      orderTotal: 0,
      iceType: ['æ­£å¸¸å†°', 'å°‘å†°', 'å¾®å†°', 'å»å†°', 'ç†±'],
      sugarType: ['å…¨ç³–', 'ä¸ƒåˆ†', 'åŠç³–', 'ä¸‰åˆ†', 'ç„¡ç³–'],
      toppingsType: ['çç ', 'ç²‰æ¢', 'å°ç²‰åœ“', 'æ¤°æœ', 'èŠ‹é ­'],
      products: [
        {
          name: 'çç é®®å¥¶èŒ¶',
          engName: 'Pearl Milk Tea',
          price: 60,
        },
        {
          name: 'é®®å¥¶èŒ¶',
          engName: 'Milk Tea',
          price: 50,
        },
        {
          name: 'å¤æ„å†¬ç“œèŒ¶',
          engName: 'Winter Melon Drink',
          price: 30,
        },
        {
          name: 'èœœé¦™ç´…èŒ¶',
          engName: 'Black Tea',
          price: 30,
        },
        {
          name: 'åŒ…ç¨®é’èŒ¶',
          engName: 'Baozhong Tea',
          price: 35,
        },
        {
          name: 'æª¸æª¬çƒé¾',
          engName: 'Lemon Oolong Tea',
          price: 55,
        },
        {
          name: 'è–‘æ¯èŒ¶',
          engName: 'Ginger Tea',
          price: 55,
        },
        {
          name: 'é’è‰èŒ¶',
          engName: 'Herbal Tea',
          price: 35,
        },
        {
          name: 'é‡‘æ¡”æª¸æª¬',
          engName: 'Kumquat Lemonade',
          price: 40,
        },
        {
          name: 'æŸ³æ¾„é’èŒ¶',
          engName: 'Orange Mountain Tea',
          price: 45,
        },
      ],
    }
  },
  methods: {
    // å®šç¾©æ–¹æ³•ï¼šå°‡é¸å–çš„å“é …å­˜å…¥ itemSelected
    selectedProduct(product) {
      // å°‡è³‡æ–™æ”¾å…¥
      this.itemSelected = {
        // é€é {...} è§£æ§‹æ–¹å¼å¸¶å…¥è³‡æ–™ï¼Œé¿å…å½±éŸ¿åˆ°åŸå§‹è³‡æ–™
        ...product,
        // åŠ å…¥é è¨­å€¼ 1 å€‹é …ç›®
        count: 1,
        // ç¶å®šåŠ æ–™
        toppings: [],
        // å†°å¡Š(é è¨­æ­£å¸¸å†°)
        ice: 'æ­£å¸¸å†°',
        // ç”œåº¦(é è¨­å…¨ç³–)
        sugar: 'å…¨ç³–',
        // å‚™è¨»
        notice: ''
      };
    },
    // åŠ å…¥è³¼ç‰©è»Šå¾Œæ¸…ç©ºé¸é …
    resetOrder() {
      this.itemSelected = {};
    },
    // åŠ å…¥è³¼ç‰©è»Š
    // product ä½œç‚ºåƒæ•¸ï¼Œåç¨±å¯è‡ªè¨‚
    addToOrder(product) {
      // å®šç¾©æ–°çš„è®Šæ•¸ï¼šç•¶å‰ä¹‹è¨‚å–®å…§å®¹
      const order = {
        // è§£æ§‹ç•¶å‰è³‡æ–™
        ...product,
        // å°è¨ˆï¼š(å“é …åƒ¹æ ¼ + åŠ æ–™æ•¸é‡ * åƒ¹æ ¼) * æ•¸é‡
        total: (product.price + product.toppings.length * 10) * product.count
      }
      // æŒ‰ä¸‹åŠ å…¥æ™‚ï¼Œå°‡å“é …åŠ å…¥è³¼ç‰©è»Š
      this.orderList.push(order);
      this.countTotal();
      // æ¸…ç©º
      this.resetOrder();
    },
    // è¨ˆç®—ç¸½åƒ¹
    countTotal() {
      // æ¯æ¬¡è¨ˆç®—æ™‚æ¸…ç©º
      this.orderTotal = 0;
      // åˆ©ç”¨ forEach å¸¶å…¥è¨‚å–®è³‡æ–™
      this.orderList.forEach((item) => {
        // è¨‚å–®åƒ¹æ ¼ + å„å“é …å°è¨ˆ
        this.orderTotal += item.total;
      })
    }
  },
};

Vue.createApp(App).mount('#app');
</script>
<!-- ğŸ™‡ğŸ™‡ç·´ç¿’çµæŸğŸ™‡ğŸ™‡ -->
</main>
  
    <aside
      class="col-md-3"><div class="sticky-top" style="top: 76px">
  <div class="list-group">
  
    <a href="/template/v-text.html"
      class="list-group-item list-group-item-action
        list-group-item-success
        ">
      æ¸²æŸ“è³‡æ–™æ–¼ç•«é¢ä¸Š
    </a>
  
    <a href="/template/v-for.html"
      class="list-group-item list-group-item-action
        list-group-item-success
        ">
      å‘ˆç¾å¤šç­†è³‡æ–™
    </a>
  
    <a href="/template/v-if.html"
      class="list-group-item list-group-item-action
        list-group-item-success
        ">
      æ¸²æŸ“åˆ¤æ–·
    </a>
  
    <a href="/template/v-bind.html"
      class="list-group-item list-group-item-action
        list-group-item-success
        ">
      å±¬æ€§ç¶å®š
    </a>
  
    <a href="/template/v-style.html"
      class="list-group-item list-group-item-action
        list-group-item-success
        ">
      æ¨£å¼åˆ‡æ›
    </a>
  
    <a href="/template/form.html"
      class="list-group-item list-group-item-action
        list-group-item-danger
        ">
      v-model èˆ‡è¡¨å–®
    </a>
  
    <a href="/template/v-model-modifiers.html"
      class="list-group-item list-group-item-action
        list-group-item-danger
        ">
      v-model ä¿®é£¾ç¬¦
    </a>
  
    <a href="/template/v-on.html"
      class="list-group-item list-group-item-action
        list-group-item-info
        ">
      v-on äº‹ä»¶è§¸ç™¼
    </a>
  
    <a href="/template/v-on-modifiers.html"
      class="list-group-item list-group-item-action
        list-group-item-info
        ">
      v-on ä¿®é£¾ç¬¦
    </a>
  
    <a href="/template/v-on-dom-event.html"
      class="list-group-item list-group-item-action
        list-group-item-info
        ">
      è£œå……ï¼šv-on DOM äº‹ä»¶
    </a>
  
    <a href="/template/directive-final-easy.html"
      class="list-group-item list-group-item-action
        
        active">
      ç« ç¯€æŒ‘æˆ° - ç°¡å–®ç‰ˆ
    </a>
  
    <a href="/template/directive-final.html"
      class="list-group-item list-group-item-action
        
        ">
      ç« ç¯€æŒ‘æˆ° - æŒ‘æˆ°ç‰ˆ
    </a>
  
  </div>
  <div class="mt-3 text-end p-2 bg-light rounded">
    <small class="text-black-50 fw-light mb-0">æ–‡ä»¶ç‰ˆæœ¬ï¼š2022/11/1</small>
  </div>
</div>

</aside>
    
  </div>
</div>

<nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-secondary">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">Vue 3 ç·´ç¿’æ‰‹å†Š</a>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link " href="/es6/shorthand.html">JS å¿…å‚™è§€å¿µ</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/intro/createApp.html">èªè­˜ Vue.js</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/template/v-text.html">æ¨¡æ¿</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/optionsApi/options-methods.html">æ–¹æ³•</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/components/component_register.html">å…ƒä»¶</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/advApi/adv-refs.html">é€²éš</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/router/vue-router.html">è·¯ç”±</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/composition/proxy.html">Composition API</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/pinia/layout.html">Pinia</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<footer class="footer py-2 bg-light">
  <div class="container text-center">
    <small class="text-black-50 fw-light mb-0">å…­è§’å­¸é™¢ Vue èª²ç¨‹å°ˆå±¬æ–‡ä»¶</small>
  </div>
</footer>
<link rel="stylesheet" href="/stylesheets/all.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
</body>
</html>
